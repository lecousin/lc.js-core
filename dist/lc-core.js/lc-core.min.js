String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),Array.prototype.contains=function(e){return-1!=this.indexOf(e)},Array.prototype.remove=function(e){for(var t=0;t<this.length;++t)this[t]==e&&(this.splice(t,1),t--)},Array.prototype.removeUnique=function(e){var t=this.indexOf(e);0<=t&&this.splice(t,1)},Array.prototype.isSame=function(e){if(!Array.isArray(e))return!1;if(this.length!=e.length)return!1;for(var t=0;t<this.length;++t)if(this[t]!==e[t])return!1;return!0},Array.prototype.clear=function(){0<this.length&&this.splice(0,this.length)},Array.prototype.removeElements=function(e){for(var t=0;t<this.length;++t)e.contains(this[t])&&(this.splice(t,1),t--)},"undefined"==typeof lc&&(lc={}),lc.core={namespace:function(e,t){for(var s=e.split("."),n=window,r=0;r<s.length;++r)void 0===n[s[r]]&&(n[s[r]]={}),n=n[s[r]];return lc.core.merge(n,t)},merge:function(e,t){for(var s in t)e[s]=t[s];return e},createClass:function(e,t,s){for(var n=e.split("."),r=window,o=0;o<n.length-1;++o)void 0===r[n[o]]&&(r[n[o]]={}),r=r[n[o]];var i=n[n.length-1];return r[i]=t,r[i].prototype=s,r[i].prototype.constructor=t,r[i]._lcClass=e,r[i]._lcExtends=[],parent[i]},extendClass:function(e,t,s,n){for(var r=e.split("."),o=window,i=0;i<r.length-1;++i)void 0===o[r[i]]&&(o[r[i]]={}),o=o[r[i]];var l=r[r.length-1];o[l]=s,o[l]._lcClass=e,o[l]._lcExtends=[],Array.isArray(t)||(t=[t]);var c={};for(i=0;i<t.length;++i)if(lc.core.merge(c,t[i].prototype),o[l]._lcExtends.indexOf(t[i])<0&&o[l]._lcExtends.push(t[i]._lcClass),t[i]._lcExtends)for(var a=0;a<t[i]._lcExtends.length;++a)o[l]._lcExtends.indexOf(t[i]._lcExtends[a])<0&&o[l]._lcExtends.push(t[i]._lcExtends[a]);for(var u in c)void 0===n[u]&&(n[u]=c[u]);return o[l].prototype=n,o[l].prototype.constructor=s,o[l]},fromName:function(e){return lc.core._fromName(window,e)},_fromName:function(e,t){if(void 0!==e[t])return e[t];for(var s=0;s<t.length;){var n=t.indexOf(".",s);if(n<=0)return;if(void 0!==e[t.substring(0,n)]){var r=lc.core._fromName(e[t.substring(0,n)],t.substring(n+1));if(r)return r}s=n+1}},instanceOf:function(e,t){if("string"==typeof t&&(t=lc.core.fromName(t)),e instanceof t)return!0;if("function"!=typeof e.constructor)return!1;if(void 0===e.constructor._lcExtends)return!1;for(var s=0;s<e.constructor._lcExtends.length;++s)if(lc.core.fromName(e.constructor._lcExtends[s])==t)return!0;return!1},isExtending:function(e,t){if("string"==typeof e&&(e=lc.core.fromName(e)),"string"==typeof t&&(t=lc.core.fromName(t)),void 0===e._lcExtends)return!1;for(var s=0;s<e._lcExtends.length;++s)if(lc.core.fromName(e._lcExtends[s])==t)return!0;return!1},typeOf:function(e){if(null===e)return"null";if("object"!=typeof e)return typeof e;if(e.constructor._lcClass)return e.constructor._lcClass;var t=e.constructor;if(t){if(t.name)return t.name;if(t.displayName)return t.displayName}return"[unknown]"},className:function(e){return e._lcClass},_idCounter:0,generateId:function(){return"id"+ ++lc.core._idCounter},getMyURL:function(){var t;try{toto.tutu()}catch(e){t=e.stack.split("\n")}for(var e=!0,s=0;s<t.length;++s)if(t[s].match(/http[s]?:\/\//)){if(!e){var n=t[s].match(/((http[s]?:\/\/.+\/)([^\/]+\.js)):/);return new lc.URL(n[1])}e=!1}return null}},lc.core.namespace("lc.app",{_expectedExpressions:{},_applicationListeners:[],onDefined:function(expression,listener){var value=void 0;try{value=eval("("+expression+")")}catch(e){}void 0!==value&&lc.core._loaded?lc.async.Callback.callListeners(listener):(void 0===lc.app._expectedExpressions[expression]&&(lc.app._expectedExpressions[expression]=[]),lc.app._expectedExpressions[expression].push(listener))},newDefinitionsAvailable:function(){var nb;do{for(var expression in nb=Object.keys(lc.app._expectedExpressions).length,lc.app._expectedExpressions){var value=eval("("+expression+")");void 0!==value&&(lc.async.Callback.callListeners(lc.app._expectedExpressions[expression]),delete lc.app._expectedExpressions[expression])}}while(Object.keys(lc.app._expectedExpressions).length!=nb)},onLoaded:function(e){null===lc.app._applicationListeners?lc.async.Callback.callListeners(e):lc.app._applicationListeners.push(e)},loaded:function(){for(var e in lc.app.newDefinitionsAvailable(),lc.async.Callback.callListeners(lc.app._applicationListeners),lc.app._applicationListeners=null,lc.app.newDefinitionsAvailable(),lc.app._expectedExpressions)lc.log.warn("lc.app","Application loaded but still waiting for: "+e);lc.log.debug("lc.app","Application loaded.")},_pending:[],pending:function(e){lc.app._pending.push(e),1==lc.app._pending.length&&lc.app._working(),e.ondone(function(){lc.app._pending.remove(e),0==lc.app._pending.length&&lc.app._idle()})},_idleListeners:[],_workingListeners:[],_idle:function(){lc.async.Callback.callListeners(lc.app._idleListeners)},_working:function(){lc.async.Callback.callListeners(lc.app._workingListeners)},addIdleListener:function(e){lc.app._idleListeners.push(e),0==lc.app._pending.length&&lc.async.Callback.callListeners(e)},removeIdleListener:function(e){lc.app._idleListeners.remove(e)},addWorkingListener:function(e){lc.app._workingListeners.push(e),0<lc.app._pending.length&&lc.async.Callback.callListeners(e)},removeWorkingListener:function(e){lc.app._workingListeners.remove(e)}}),window.addEventListener("load",function(){lc.app.newDefinitionsAvailable(),document.body.addEventListener("ready",lc.app.newDefinitionsAvailable)}),setTimeout(function(){0==lc.app._pending.length&&lc.app._idle()},1),lc.core.namespace("lc.animation",{animate:function(r,o,i){void 0===o&&(o="lc-animate-start",i="lc-animate-end");var l,c,a=!1,e=!1;l=function(){a=!0,r.removeEventListener("transitionstart",l)},c=function(){e||(lc.css.removeClass(r,i),r.removeEventListener("transitionend",c),r.removeEventListener("transitioncancel",c),e=!0,ondone&&lc.Callback.call(ondone))},r.addEventListener("transitionstart",l),r.addEventListener("transitionend",c),r.addEventListener("transitioncancel",c),lc.css.addClass(r,o);var u=new lc.async.Future;return setTimeout(function(){var e=getComputedStyle(r);if(e.transitionProperty&&(a=!0),!a)return lc.css.removeClass(r,o),r.removeEventListener("transitionstart",l),r.removeEventListener("transitionend",c),r.removeEventListener("transitioncancel",c),void u.success();lc.css.removeClass(r,o),lc.css.addClass(r,i);var t=e.transitionDuration,s=t.indexOf("ms"),n=t.indexOf("s");t=0<s&&s<n?parseInt(t.substring(0,s)):0<n?1e3*parseFloat(t.substring(0,n)):0,setTimeout(c,Math.floor(t+1))},1),u},animateReverse:function(e){return this.animate(e,"lc-animate-end","lc-animate-start")},collapseHeight:function(e,t){e.style.transitionProperty="height,transform,padding",e.style.transitionDuration=t+"ms",e.style.transitionTimingFunction="ease-in-out",e.style.transformOrigin="top",e.style.overflow="hidden";var s=getComputedStyle(e);e.style.paddingTop=s.paddingTop,e.style.paddingBottom=s.paddingBottom;var n=parseInt(s.paddingTop);isNaN(n)&&(n=0);var r=parseInt(s.paddingBottom);isNaN(r)&&(r=0),e.style.height=e.clientHeight-n-r+"px",e.style.transform="scaleY(1)";var o=new lc.async.Future;return setTimeout(function(){e.style.height="0px",e.style.transform="scaleY(0)",e.style.paddingTop="0px",e.style.paddingBottom="0px",setTimeout(function(){e.style.height="",e.style.transform="",e.style.paddingTop="",e.style.paddingBottom="",e.style.transitionProperty="",e.style.transitionDuration="",e.style.transitionTimingFunction="",e.style.overflow="",o.success()},t)},0),o},expandHeight:function(s,n){var r=getComputedStyle(s),o=s.clientHeight;s.style.transitionProperty="height,transform,padding",s.style.transitionDuration=n+"ms",s.style.transitionTimingFunction="ease-in-out",s.style.transformOrigin="top",s.style.overflow="hidden",s.style.height="0px",s.style.transform="scaleY(0)",s.style.paddingTop="0px",s.style.paddingBottom="0px";var i=new lc.async.Future;return setTimeout(function(){s.style.paddingTop=r.paddingTop,s.style.paddingBottom=r.paddingBottom;var e=parseInt(r.paddingTop);isNaN(e)&&(e=0);var t=parseInt(r.paddingBottom);isNaN(t)&&(t=0),s.style.height=o-e-t+"px",s.style.transform="scaleY(1)",setTimeout(function(){s.style.height="",s.style.transform="",s.style.paddingTop="",s.style.paddingBottom="",s.style.transitionProperty="",s.style.transitionDuration="",s.style.transitionTimingFunction="",s.style.overflow="",i.success()},n)},0),i},collapseWidth:function(e,t){e.style.transitionProperty="width,transform,padding",e.style.transitionDuration=t+"ms",e.style.transitionTimingFunction="ease-in-out",e.style.transformOrigin="left",e.style.overflow="hidden";var s=getComputedStyle(e);e.style.paddingLeft=s.paddingLeft,e.style.paddingRight=s.paddingRight;var n=parseInt(s.paddingTop);isNaN(n)&&(n=0);var r=parseInt(s.paddingBottom);isNaN(r)&&(r=0),e.style.width=e.clientWidth-n-r+"px",e.style.transform="scaleX(1)";var o=new lc.async.Future;return setTimeout(function(){e.style.width="0px",e.style.transform="scaleX(0)",e.style.paddingLeft="0px",e.style.paddingRight="0px",setTimeout(function(){e.style.width="",e.style.transform="",e.style.paddingLeft="",e.style.paddingRight="",e.style.transitionProperty="",e.style.transitionDuration="",e.style.transitionTimingFunction="",e.style.overflow="",o.success()},t)},0),o},expandWidth:function(s,n){var r=getComputedStyle(s),o=s.clientWidth;s.style.transitionProperty="width,transform,padding",s.style.transitionDuration=n+"ms",s.style.transitionTimingFunction="ease-in-out",s.style.transformOrigin="left",s.style.overflow="hidden",s.style.width="0px",s.style.transform="scaleY(0)",s.style.paddingLeft="0px",s.style.paddingRight="0px";var i=new lc.async.Future;return setTimeout(function(){s.style.paddingLeft=r.paddingLeft,s.style.paddingRight=r.paddingRight;var e=parseInt(r.paddingLeft);isNaN(e)&&(e=0);var t=parseInt(r.paddingRight);isNaN(t)&&(t=0),s.style.width=o-e-t+"px",s.style.transform="scaleY(1)",setTimeout(function(){s.style.width="",s.style.transform="",s.style.paddingLeft="",s.style.paddingRight="",s.style.transitionProperty="",s.style.transitionDuration="",s.style.transitionTimingFunction="",s.style.overflow="",i.success()},n)},0),i}}),lc.core.createClass("lc.async.Callback",function(e,t,s){this._this=e,this._fct=t,this._args=s},{call:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return this._args&&(e=this._args.concat(e)),this._fct.apply(this._this,e)},apply:function(e){var t=[];if(e)for(var s=0;s<e.length;++s)t.push(e[s]);return this._args&&(t=this._args.concat(t)),this._fct.apply(this._this,t)},toFunction:function(){var e=this;return function(){return e.apply(arguments)}}}),lc.async.Callback.callListeners=function(t,e){t=Array.isArray(t)?t.slice():[t],void 0===e&&(e=[]);for(var s=0;s<t.length;++s)try{if("function"==typeof t[s])t[s].apply(null,e);else{if(!lc.core.instanceOf(t[s],lc.async.Callback))throw"Unexpected listener type: "+lc.core.typeOf(t[s]);t[s].apply(e)}}catch(e){lc.log.error("lc.async.Callback","A listener thrown an exception: "+t[s]+": "+e,e)}},lc.async.Callback.from=function(e){if("function"==typeof listeners[i])return new lc.async.Callback(window,e);if(lc.core.instanceOf(e,lc.async.Callback))return e;throw"Unexpected type: "+lc.core.typeOf(e)},lc.core.createClass("lc.async.Future",function(){this._successListeners=[],this._errorListeners=[],this._doneListeners=[]},{_done:!1,_result:void 0,_error:void 0,_successListeners:null,_errorListeners:null,_doneListeners:null,success:function(e){if(this._done)throw"Future already done";this._result=e,this._done=!0,this._callListeners()},error:function(e){if(this._done)throw"Future already done";this._error=e,this._done=!0,this._callListeners()},ondone:function(e){return this._done?lc.async.Callback.callListeners([e],[]):this._doneListeners.push(e),this},onsuccess:function(t){return lc.core.instanceOf(t,lc.async.Future)?onsuccess(function(e){t.success(e)}):(this._done?void 0===this._error&&lc.async.Callback.callListeners([t],[this._result]):this._successListeners.push(t),this)},onerror:function(t){return lc.core.instanceOf(t,lc.async.Future)?onerror(function(e){t.error(e)}):(this._done?null!=this._error&&lc.async.Callback.callListeners([t],[this._error]):this._errorListeners.push(t),this)},isDone:function(){return this._done},getResult:function(){return this._result},getError:function(){return this._error},_callListeners:function(){void 0===this._error?lc.async.Callback.callListeners(this._successListeners,[this._result]):lc.async.Callback.callListeners(this._errorListeners,[this._error]),lc.async.Callback.callListeners(this._doneListeners,[]),this._doneListeners=null,this._successListeners=null,this._errorListeners=null}}),lc.core.extendClass("lc.async.JoinPoint",lc.async.Future,function(){lc.async.Future.call(this),this._remaining=0,this._started=!1},{addToJoin:function(e){if("number"==typeof e)this._remaining+=e;else{if(!lc.core.instanceOf(e,lc.async.Future))throw"Unexpected type to join: "+lc.Core.typeOf(e);this._remaining++,e.onsuccess(new lc.async.Callback(this,this.join)).onerror(new lc.async.Callback(this,this.error))}},start:function(){this._started=!0,this._check()},join:function(){if(this._remaining<=0)throw"JoinPoint: no more join expected";this._remaining--,this._started&&this._check()},_check:function(){this._done||this._remaining<=0&&this.success(null)}}),lc.core.createClass("lc.Cache",function(e,t,s){if(this._timeout=e,this._onrelease=t,0<e){s<=0&&(s=3e4);var n=this;this._interval=setInterval(function(){n._checkTimeout()},s)}},{_items:new Map,set:function(e,t){var s=this._items.get(e);s&&this._onrelease&&this._onrelease(e,s.item),this._items.set(e,{item:t,used:(new Date).getTime()})},get:function(e){var t=this._items.get(e);if(t)return t.used=(new Date).getTime(),t.item},remove:function(e){var t=this._items.get(e);return!!t&&(this._onrelease&&this._onrelease(e,t.item),this._items.delete(e),!0)},close:function(){this._interval&&(clearInterval(this._interval),this._interval=null),this._items=null},_checkTimeout:function(){var n=(new Date).getTime()-this._timeout,r=this._onrelease;this._items.forEach(function(e,t,s){e.used<n&&(r&&r(t,e.item),s.delete(t))})}}),lc.core.createClass("lc.Configurable",function(e){for(var t in e||(e={}),e){var s=e[t],n={enumerable:!0};s.get?n.get=new Function('return this.configurableProperties["'+t+'"].get.call(this, this.configurableProperties);'):n.get=new Function('return this.configurableProperties["'+t+'"].value;'),s.set?n.set=new Function("value",'return this.configurableProperties["'+t+'"].set.call(this, value, this.configurableProperties);'):n.set=new Function("value",'return this.configurableProperties["'+t+'"].value = value;'),void 0!==s.writable&&(n.writable=s.writable),Object.defineProperty(this,t,n)}this.configurableProperties=e},{configurableProperties:{}}),lc.app.onDefined(["lc.events","lc.async.Callback"],function(){"use strict";lc.core.createClass("lc.Context",function(e){(e._lc_context=this).element=e,Object.defineProperty(this,"_values",{enumerable:!1,writable:!1,value:{}}),Object.defineProperty(this,"events",{enumerable:!1,writable:!1,value:new lc.events.Producer}),this.events.registerEvents(["propertyAdded","propertyRemoved","propertySet","changed","destroyed"]),lc.Context.globalEvents.trigger("contextCreated",[this]),lc.events.listen(e,"destroy",new lc.async.Callback(this,function(){e._lc_context=null,this.events.trigger("destroyed",[this]),lc.Context.globalEvents.trigger("contextDestroyed",[this]),this.element=null}))},{addProperty:function(t,e){if(void 0!==this._values[t])throw"Property "+t+" already exists";this._values[t]=e,Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:function(){return this._values[t]},set:function(e){e!==this._values[t]&&(this._values[t]=e,this.events.trigger("propertySet",[this,t,e]),lc.Context.globalEvents.trigger("propertySet",[this,t,e]),this.events.trigger("changed",[this]),lc.Context.globalEvents.trigger("changed",[this]))}}),this.events.trigger("propertyAdded",[this,t,e]),lc.Context.globalEvents.trigger("propertyAdded",[this,t,e]),this.events.trigger("changed",[this]),lc.Context.globalEvents.trigger("changed",[this])},removeProperty:function(e){void 0!==this._values[e]&&(delete this_values[e],delete this[e],this.events.trigger("propertyRemoved",[this,e]),lc.Context.globalEvents.trigger("propertyRemoved",[this,e]),this.events.trigger("changed",[this]),lc.Context.globalEvents.trigger("changed",[this]))},hasProperty:function(e){return void 0!==this._values[e]},getProperty:function(e){if(void 0!==this._values[e])return this._values[e]}}),lc.Context.get=function(e,t){return void 0===e._lc_context?t?null:new lc.Context(e):e._lc_context},lc.Context.getValue=function(e,t){var s=lc.Context.get(e,!0);if(s)return s.getProperty(t)},lc.Context.aggregate=function(e){var t={};do{var s=lc.Context.get(e,!0);if(s)for(var n in s)void 0===t[n]&&(t[n]=s[n]);e=e.parentNode}while(e&&"HTML"!=e.nodeName);return t},lc.Context.globalEvents=new lc.events.Producer,lc.Context.globalEvents.registerEvents(["propertyAdded","propertyRemoved","propertySet","changed","contextCreated","contextDestroyed"])}),lc.core.namespace("lc.cookies",{get:function(e){return document.cookie.replace(new RegExp("(?:(?:^|.*;s*)"+e+"s*=s*([^;]*).*$)|^.*$"),"$1")},set:function(e,t,s,n){var r=e+"="+t;s&&(r+=";path="+s),n&&(r+=";max-age="+n),document.cookie=r}}),lc.core.namespace("lc.css",{hasClass:function(e,t){return e.className.split(" ").contains(t)},addClass:function(e,t){""!=e.className?e.className.split(" ").contains(t)||(e.className+=" "+t):e.className=t},removeClass:function(e,t){if(""!=e.className)if(e.className!=t){var s=e.className.split(" ");s.contains(t)&&(s.remove(t),e.className=s.join(" "))}else e.className=""},getClasses:function(e){return e.className.split(" ")}}),lc.core.namespace("lc.events",{_customEvents:{destroy:function(e,t){}},registerCustomEvent:function(e,t){t||(t=function(e,t){}),void 0===lc.events._customEvents[e]&&(lc.events._customEvents[e]=t)},triggerCustomEvent:function(e,t,s){if(e._eventListeners)for(var n=0;n<e._eventListeners.length;++n)e._eventListeners[n].eventType==t&&lc.async.Callback.callListeners(e._eventListeners[n].listener,s)},listen:function(e,t,s){if(!s)throw"No listener given to lc.events.listen";e._eventListeners||(e._eventListeners=[]),"function"==typeof s&&(s=new lc.async.Callback(e,s));var n={eventType:t,listener:s};e._eventListeners.push(n),void 0===lc.events._customEvents[t]?(n.listenerFct=n.listener.toFunction(),e.addEventListener(t,n.listenerFct)):lc.events._customEvents[t](e,s)},unlisten:function(e,t,s){if(e._eventListeners)for(var n=0;n<e._eventListeners.length;++n)if(e._eventListeners[n].eventType==t&&(e._eventListeners[n].listener==s||e._eventListeners[n].listener._fct==s)){s=e._eventListeners[n].listenerFct,e._eventListeners[n].listener=null,e._eventListeners.splice(n,1);break}void 0===lc.events._customEvents[t]&&e.removeEventListener(t,s)},destroyed:function(e){if(!e._destroyed){if(e._destroyed=!0,e._eventListeners){var t=e._eventListeners.slice();e._eventListeners=null;for(var s=0;s<t.length;++s)"destroy"===t[s].eventType?lc.async.Callback.callListeners(t[s].listener):void 0===lc.events._customEvents[t[s].eventType]&&e.removeEventListener(t[s].eventType,t[s].listener._fct),t[s].listener=null}if(e.childNodes)for(s=0;s<e.childNodes.length;++s)lc.events.destroyed(e.childNodes[s])}}}),lc.core.createClass("lc.events.Producer",function(){this.eventsListeners||(this.eventsListeners={},this.listen=this.on)},{registerEvent:function(e){e=e.toLowerCase(),this.eventsListeners[e]=[],lc.log.trace("lc.events.Producer")&&lc.log.trace("lc.events.Producer","Event registered: "+e)},registerEvents:function(e){for(var t=0;t<e.length;++t)this.registerEvent(e[t])},unregisterEvents:function(e){for(var t=0;t<e.length;++t)delete this.eventsListeners[e[t].toLowerCase()]},on:function(e,t){if(e=e.toLowerCase(),void 0===this.eventsListeners[e])throw"Unknown event: "+e;this.eventsListeners[e].push(t)},unlisten:function(e,t){if(e=e.toLowerCase(),void 0===this.eventsListeners[e])throw"Unknown event: "+e;for(var s=0;s<this.eventsListeners[e].length;++s)if(this.eventsListeners[e][s]==t){this.eventsListeners[e].splice(s,1);break}},trigger:function(e,t){if(this.eventsListeners){if(e=e.toLowerCase(),void 0===this.eventsListeners[e])throw"Unknown event: "+e;lc.log.debug("lc.events.Producer")&&lc.log.debug("lc.events.Producer",e+" on "+lc.core.typeOf(this)),lc.async.Callback.callListeners(this.eventsListeners[e],t)}},hasEvent:function(e){return e=e.toLowerCase(),void 0!==this.eventsListeners[e]},destroy:function(){this.eventsListeners=null}}),lc.core.createClass("lc.Extendable",function(){null===this.extensions&&(this.extensions=[],lc.Extension.Registry.detect(this),this.extensions.sort(function(e,t){return t.priority-e.priority}))},{extensions:null,addExtension:function(e){null==this.getExtension(e)&&(e=new e,this.extensions.push(e),e.init(this),this.extensionAdded(e))},extensionAdded:function(e){},removeExtension:function(e){var t=!1;if("function"==typeof e){for(var s=0;s<this.extensions.length;++s)if(lc.core.instanceOf(this.extensions[s],e)){e=this.extensions[s],this.extensions.splice(s,1),t=!0;break}}else for(s=0;s<this.extensions.length;++s)if(this.extensions[s]==e){this.extensions.splice(s,1),t=!0;break}t&&e.destroy(this)},getExtension:function(e){for(var t=0;t<this.extensions.length;++t)if(lc.core.instanceOf(this.extensions[t],e))return this.extensions[t];return null},hasExtension:function(e){return null!=this.getExtension(e)},callExtensions:function(e){if(this.extensions)for(var t=Array.prototype.slice.call(arguments,1),s=0;s<this.extensions.length;++s)if("function"==typeof this.extensions[s][e]&&(this.extensions[s][e].apply(this.extensions[s],t),!this.extensions))return},destroy:function(){if(this.extensions){for(var e=0;e<this.extensions.length;++e)this.extensions[e].destroy(this);this.extensions=null}}}),lc.core.createClass("lc.Extension",function(){},{priority:0,detect:function(e){},init:function(e){},destroy:function(e){}}),lc.Extension.Registry={_extensions:[],register:function(e,t){lc.log.trace("lc.Extension")&&lc.log.trace("lc.Extension","Extension registered: "+lc.core.className(t)+" extending "+lc.core.className(e)),this._extensions.push({extended:e,extension:t})},detect:function(e){for(var t=0;t<this._extensions.length;++t)lc.core.instanceOf(e,this._extensions[t].extended)&&this._extensions[t].extension.prototype.detect(e)&&e.addExtension(this._extensions[t].extension)},getAvailableFor:function(e){for(var t=[],s=0;s<this._extensions.length;++s)this._extensions[s].extended===e&&t.push(this._extensions[s].extension);return t}},lc.core.namespace("lc.html",{walkChildren:function(e,t){for(var s=0;s<e.childNodes.length;++s)lc.Callback.from(t).call(e.childNodes[s])||1==e.childNodes[s].nodeType&&lc.html.walkChildren(e.childNodes[s],t)},create:function(e,t){var s=document.createElement(e);if(t)for(var n in t)s[n]=t[n];return s},remove:function(e){lc.events.destroyed(e),e.parentNode&&e.parentNode.removeChild(e)},empty:function(e){for(;0<e.childNodes.length;)lc.html.remove(e.childNodes[0])},addOption:function(e,t,s){var n=document.createElement("OPTION");n.value=t,n.text=s,e.add(n)},insertAfter:function(e,t){return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)},removeChildrenAfter:function(e){for(;e.nextSibling;)lc.html.reove(e.nextSibling)},escape:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}}),lc.core.namespace("lc.html.processor",{_preprocessors:[],_postprocessors:[],addPreProcessor:function(e,t){t||(t=1e3),lc.html.processor._preprocessors.push({processor:e,priority:t}),lc.html.processor._preprocessors.sort(function(e,t){return t.priority-e.priority})},addPostProcessor:function(e,t){t||(t=1e3),lc.html.processor._postprocessors.push({processor:e,priority:t}),lc.html.processor._postprocessors.sort(function(e,t){return t.priority-e.priority})},removePreProcessor:function(e){for(var t=0;t<lc.html.processor._preprocessors.length;++t)if(lc.html.processor._preprocessors[t].processor===e)return void lc.html.processor._preprocessors.splice(t,1)},removePostProcessor:function(e){for(var t=0;t<lc.html.processor._postprocessors.length;++t)if(lc.html.processor._postprocessors[t].processor===e)return void lc.html.processor._postprocessors.splice(t,1)},removeProcessor:function(e){lc.html.processor.removePreProcessor(e),lc.html.processor.removePostProcessor(e)},STATE_RUNNING:0,STATE_INTERRUPTED:1,STATE_STOPPED:2,process:function(e){var t=new lc.html.processor.Status(e);return t._continueProcessing(),t.result},processContent:function(e){var t=new lc.html.processor.Status(e);return t._elements[0]._preprocessors=[],t._elements[0]._postprocessors=[],t._continueProcessing(),t.result}}),lc.core.createClass("lc.html.processor.Status",function(e){this._elements=[new lc.html.processor.ElementStatus(e,this)],this.result=new lc.async.Future},{stop:function(){this._state=lc.html.processor.STATE_STOPPED},_state:lc.html.processor.STATE_RUNNING,_continueProcessing:function(){for(;;){if(this._state==lc.html.processor.STATE_STOPPED){for(;0<this._elements.length;){var e=this._elements[this._elements.length-1];this._elements.splice(this._elements.length-1,1),e.result.success(e)}return void this.result.success(this)}if(0==this._elements.length)return void this.result.success(this);if((e=this._elements[this._elements.length-1])._state==lc.html.processor.STATE_INTERRUPTED)return;if(e._state!=lc.html.processor.STATE_STOPPED)if(0<e._preprocessors.length){var t=e._preprocessors[0];e._preprocessors.splice(0,1),lc.async.Callback.callListeners(t.processor,[e.element,e,this])}else{if(void 0===e._children){e._children=[];for(var s=0;s<e.element.childNodes.length;++s)e._children.push(e.element.childNodes[s])}if(0<e._children.length){var n=e._children[0];e._children.splice(0,1);var r=new lc.html.processor.ElementStatus(n,this);this._elements.push(r)}else if(void 0===e._postprocessors&&(e._postprocessors=lc.html.processor._postprocessors.slice()),0<e._postprocessors.length){t=e._postprocessors[0];e._postprocessors.splice(0,1),lc.async.Callback.callListeners(t.processor,[e.element,e,this])}else e.result.success(e),this._elements.splice(this._elements.length-1,1),lc.events.triggerCustomEvent(e.element,"processed")}else e.result.success(e),this._elements.splice(this._elements.length-1,1)}}}),lc.core.createClass("lc.html.processor.ElementStatus",function(e,t){this.element=e,this._mainStatus=t,this._state=lc.html.processor.STATE_RUNNING,this._preprocessors=lc.html.processor._preprocessors.slice(),this._children=void 0,this._postprocessors=void 0,this.result=new lc.async.Future},{interrupt:function(){this._state=lc.html.processor.STATE_INTERRUPTED},stop:function(){this._state=lc.html.processor.STATE_STOPPED},resume:function(){this._state=lc.html.processor.STATE_RUNNING,this._mainStatus._continueProcessing()}}),lc.events.registerCustomEvent("processed",function(e,t){}),lc.core.namespace("lc.http",{request:function(e,t){t instanceof lc.URL&&(t=t.toString());var s=new XMLHttpRequest;return s.open(e,t,!0),s},get:function(e,t){var s=lc.http.request("GET",e);t&&s.setRequestHeader("Accept",t),s.send();var n=new lc.async.Future;return s.future.onsuccess(function(e){200==e.status?n.success(e.responseText):n.error(e.status)}),n},_customizers:[],_customize:function(e){for(var t=0;t<lc.http._customizers.length;++t)lc.http._customizers[t](e)},addCustomizer:function(e){lc.http._customizers.push(e)},removeCustomizer:function(e){lc.http._customizers.remove(e)}}),lc.http.addCustomizer(function(e){e.future=new lc.async.Future,e.addEventListener("readystatechange",function(){4==e.readyState&&e.future.success(e)})}),window._lc_http_XMLHttpRequest_send=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(e){lc.http._customize(this),lc.app.pending(this.future),window._lc_http_XMLHttpRequest_send.apply(this,[e])},lc.core.createClass("lc.layout.Handler",function(e){(e._lc_layout_handler=this)._listeners=[],this._refreshValues(e)},{_refreshValues:function(e){this._clientWidth=e.clientWidth,this._clientHeight=e.clientHeight,this._offsetWidth=e.offsetWidth,this._offsetHeight=e.offsetHeight,this._scrollWidth=e.scrollWidth,this._scrollHeight=e.scrollHeight},_check:function(e){e.clientWidth==this._clientWidth&&e.clientHeight==this._clientHeight&&e.offsetWidth==this._offsetWidth&&e.offsetHeight==this._offsetHeight&&e.scrollWidth==this._scrollWidth&&e.scrollHeight==this._scrollHeight||(lc.async.Callback.callListeners(this._listeners),this._refreshValues(e))}}),lc.layout.onChange=function(e,t){e._lc_layout_handler||new lc.layout.Handler(e),e._lc_layout_handler._listeners.push(t)},lc.layout.triggerChange=function(e){e._lc_layout_handler&&e._lc_layout_handler._check(e);for(var t=0;t<e.childNodes.length;++t)1==e.childNodes[t].nodeType&&lc.layout.triggerChange(e.childNodes[t])},window.addEventListener("resize",function(){lc.layout.triggerChange(document.body)}),lc.layout.getAbsolutePosition=function(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e.offsetParent!=document.body;)e=e.offsetParent,t.x-=e.scrollLeft,t.y-=e.scrollTop,t.x+=e.offsetLeft,t.y+=e.offsetTop;return t},lc.core.namespace("lc.locale",{_userLanguages:[],_lang:void 0,_namespaces:[],_listeners:[],_localized:[],setLanguage:function(e){if(-1!=(t=lc.locale._userLanguages.indexOf(e))&&lc.locale._currentLanguage!=e){window.localStorage?window.localStorage.setItem("lc.locale",e):lc.cookies.set("lc.locale",e,"/",31536e3);for(var t=0;t<lc.locale._namespaces.length;++t)lc.locale._namespaces[t].reload();lc.async.Callback.callListeners(lc.locale._listeners,[e]);for(t=0;t<lc.locale._localized.length;++t)this._updateLocalized(lc.locale._localized[t])}},declare:function(e,t,s){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;++n)if(lc.locale.hasNamespace(t[n]))lc.log.warn("lc.locale","Locale namespace "+t[n]+" is already defined");else{var r=new lc.locale.Namespace(t[n],e,s);lc.locale._namespaces.push(r),lc.log.debug("lc.locale","Locale namespace "+r.name+" declared at "+e)}},hasNamespace:function(e){return null!=getNamespace(e)},getNamespace:function(e){for(var t=0;t<lc.locale._namespaces.length;++t)if(lc.locale._namespaces[t].name==e)return lc.locale._namespaces[t]},getFullyAvailableLanguages:function(){for(var t=null,s=new lc.async.JoinPoint,e=new lc.async.Future,n=0;n<lc.locale._namespaces.length;++n){var r=lc.locale._namespaces[n];if(Array.isArray(r.languages))if(null==t)t=r.languages.slice();else for(n=0;n<t.length;++n)r.languages.indexOf(t[n])<0&&(t.splice(n,1),n--);else s.addToJoin(1),r.languages.onsuccess(new lc.async.Callback(r,function(){if(null==t)t=this.languages.slice();else for(var e=0;e<t.length;++e)this.languages.indexOf(t[e])<0&&(t.splice(e,1),e--);s.join()}))}return s.start(),s.onsuccess(function(){null===t&&(t=[]),e.success(t)}),e},getPreferredLanguageAmong:function(e){for(var t=0;t<lc.locale._userLanguages.length;++t)if(0<=e.indexOf(lc.locale._userLanguages[t]))return lc.locale._userLanguages[t];return null},listenLanguage:function(e){this._listeners.push(e),this._lang&&lc.async.Callback.callListeners(e,[this._lang])},unlistenLanguage:function(e){this._listeners.remove(e)},localizeAttribute:function(e,t,s,n,r){var o={namespace:s,key:n,params:r,element:e,attributeName:t,localize:function(e){this.element[t]=e}};this._localized.push(o),this._lang&&this._updateLocalized(o)},textNode:function(e,t,s){var n=document.createTextNode("");return lc.locale.localizeAttribute(n,"nodeValue",e,t,s),n},_updateLocalized:function(e){var t=lc.locale.getNamespace(e.namespace);t||e.localize("[unknown namespace '"+e.namespace+"']"),t.getStringAsync(e.key,e.params).onsuccess(new lc.async.Callback(e,function(e){this.localize(e)}))}}),lc.core.createClass("lc.locale.Namespace",function(e,t,s){"/"!=t.charAt(t.length-1)&&(t+="/"),this.name=e,this.url=t+e,this._content=void 0,s?(this.languages=s,lc.locale._lang&&this.reload()):this.languages=lc.http.get(this.url+".languages").onsuccess(new lc.async.Callback(this,function(e){for(var t=e.split(","),s=[],n=0;n<t.length;++n){var r=t[n].trim();0<r.length&&s.push(r)}this.languages=s,lc.locale._lang&&this.reload()}))},{reload:function(){this._content=lc.http.get(this.url+"."+lc.locale._lang).onsuccess(new lc.async.Callback(this,function(e){this._content=this._parse(e)}))},getStringAsync:function(e,t){var s=new lc.async.Future;return Array.isArray(this.languages)?this._getStringAsync(e,t,s):this.languages.onsuccess(new lc.async.Callback(this,function(){this._getStringAsync(e,t,s)})),s},_getStringAsync:function(e,t,s){Array.isArray(this.content)?this._getStringAsync2(t,s,e):this.content.onsuccess(new lc.async.Callback(this,function(){this._getStringAsync2(t,s,e)}))},_getStringAsync2:function(e,t,s){e.success(this.getStringSync(t,s))},getStringSync:function(e,t){for(var s=e.toLowerCase(),n=0;n<this.content.length;++n)if(this.content[n].key==s)return this._resolve(e,this.content[n].value,t);return"[unknown locale key '"+e+"' in namespace '"+this.name+"']"},_resolve:function(e,t,s){return t},_parse:function(e){for(var t=e.split("\n"),s=[],n=0;n<t.length;++n){var r=t[n].trim();if(0!=r.length)if(!r.startsWith("#"))r.indexOf("=")<0?lc.log.warn("lc.locale","Invalid locale line "+(n+1)+" in namespace "+this.name+": no '='"):s.push({key:r.substring(0,n).trim().toLowerCase(),value:r.substring(n+1).trim()})}return s}}),function(){var e;window.localStorage&&((e=window.localStorage.getItem("lc.locale"))&&!lc.locale._userLanguages.contains(e)&&lc.locale._userLanguages.push(e));(e=lc.cookies.get("lc.locale"))&&!lc.locale._userLanguages.contains(e)&&lc.locale._userLanguages.push(e);for(var t=navigator.languages?navigator.languages:navigator.language?[navigator.language]:navigator.userLanguage?[navigator.userLanguage]:["en"],s=0;s<t.length;++s)lc.locale._userLanguages.contains(t[s])||lc.locale._userLanguages.push(t[s]);lc.locale._userLanguages.contains("en")||lc.locale._userLanguages.push("en")}(),lc.app.onLoaded(function(){lc.locale._lang||lc.locale.getFullyAvailableLanguages().onsuccess(function(e){var t=lc.locale.getPreferredLanguageAmong(e);t&&lc.locale.setLanguage(t)})}),lc.app.onDefined(["lc.html.processor","lc.locale"],function(){lc.html.processor.addPreProcessor(function(e,t,s){},10)}),lc.core.namespace("lc.log",{Levels:{TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},formatters:{_registry:{},register:function(e,t){lc.log.formatters._registry[e]=t},create:function(e,t){if(void 0===lc.log.formatters._registry[e])throw"Unknown log formatter: "+e;return new Function("argument","return new "+lc.log.formatters._registry[e]+"(argument)")(t)}},_formatComponents:[],_defaultLevel:2,_loggerLevel:{},setFormat:function(e){for(var t=[],s=0;s<e.length;){var n=e.indexOf("${",s);if(0<=n){var r=e.indexOf("}",n+2);if(0<r){s<n&&t.push(new lc.log.formatters.String(e.substring(s,n))),s=r+1;var o=e.substring(n+2,r),i=null;0<(n=o.indexOf(":"))&&(i=o.substring(n+1),o=o.substring(0,n)),t.push(lc.log.formatters.create(o,i));continue}}t.push(new lc.log.formatters.String(e.substring(s)));break}lc.log._formatComponents=t},setDefaultLevel:function(e){lc.log._defaultLevel=e},setLevel:function(e,t){"string"!=typeof e&&(e=lc.core.typeOf(e)),lc.log._loggerLevel[e]=t},log:function(e,t,s,n){if(n&&n.stack?s=s+"\r\n"+n.stack:s&&s.stack&&(s=s+"\r\n"+s.stack),e){if("string"!=typeof e&&(e=lc.core.typeOf(e)),void 0===lc.log._loggerLevel[e]){if(t<lc.log._defaultLevel)return!1}else if(t<lc.log._loggerLevel[e])return!1}else if(t<lc.log._defaultLevel)return!1;if(!s)return!0;for(var r="",o=0;o<lc.log._formatComponents.length;++o)r+=lc.log._formatComponents[o].format(e,t,s);t==lc.log.Levels.ERROR?console.error(r):t==lc.log.Levels.WARN?console.warn(r):t==lc.log.Levels.INFO?console.info(r):t==lc.log.Levels.DEBUG?console.debug(r):console.log(r)},trace:function(e,t,s){return lc.log.log(e,lc.log.Levels.TRACE,t,s)},debug:function(e,t,s){return lc.log.log(e,lc.log.Levels.DEBUG,t,s)},info:function(e,t,s){return lc.log.log(e,lc.log.Levels.INFO,t,s)},warn:function(e,t,s){return lc.log.log(e,lc.log.Levels.WARN,t,s)},error:function(e,t,s){return lc.log.log(e,lc.log.Levels.ERROR,t,s)},fitStringSize:function(e,t){if(0<t){if(e.length>t){var s=Math.floor((t-3)/2);e=e.substring(0,s)+"..."+e.substring(e.length-(t-3-s))}for(;e.length<t;)e+=" "}return e}}),lc.core.createClass("lc.log.formatters.Formatter",function(){},{format:function(e,t,s){throw"Method lc.log.formatters.Formatter.format(logger, level, message) must be implemented on "+lc.core.typeOf(this)}}),lc.core.extendClass("lc.log.formatters.String",lc.log.formatters.Formatter,function(e){this.string=e},{format:function(e,t,s){return this.string}}),lc.core.extendClass("lc.log.formatters.Time",lc.log.formatters.Formatter,function(){},{format:function(e,t,s){return(new Date).toLocaleTimeString()}}),lc.log.formatters.register("time","lc.log.formatters.Time"),lc.core.extendClass("lc.log.formatters.DateTime",lc.log.formatters.Formatter,function(){},{format:function(e,t,s){return(new Date).toLocaleString()}}),lc.log.formatters.register("datetime","lc.log.formatters.DateTime"),lc.core.extendClass("lc.log.formatters.Level",lc.log.formatters.Formatter,function(e){e=parseInt(e),this.size=e<=0?5:e},{format:function(e,t,s){var n="";for(var r in lc.log.Levels)if(lc.log.Levels[r]==t){n=r;break}return lc.log.fitStringSize(n,this.size)}}),lc.log.formatters.register("level","lc.log.formatters.Level"),lc.core.extendClass("lc.log.formatters.Logger",lc.log.formatters.Formatter,function(e){e=parseInt(e),this.size=e},{format:function(e,t,s){return lc.log.fitStringSize(e,this.size)}}),lc.log.formatters.register("logger","lc.log.formatters.Logger"),lc.core.extendClass("lc.log.formatters.Message",lc.log.formatters.Formatter,function(e){e=parseInt(e),this.size=e},{format:function(e,t,s){return lc.log.fitStringSize(""+s,this.size)}}),lc.log.formatters.register("message","lc.log.formatters.Message"),lc.log.setFormat("${time} ${level} ${logger:20} ${message}"),lc.app.onDefined(["lc.resources","lc.Cache"],function(){lc.resources._css_cache=new lc.Cache,lc.resources.css=function(e){var t=e instanceof lc.URL?e:new lc.URL(e),n=t.toString(),r=lc.resources._css_cache.get(n);if(r)return r.future;var o=document.createElement("LINK");return o.rel="stylesheet",o.type="text/css",r={url:t,element:o,future:new lc.async.Future},lc.resources._css_cache.set(n,r),lc.app.pending(r.future),o.onload=function(){lc.log.debug("lc.resources","CSS loaded: "+n),r.future.success(o)},s.onerror=function(){lc.log.error("lc.resources","Error loading CSS "+n),js.future.error("CSS loading error")},o.href=n,document.getElementsByTagName("HEAD")[0].appendChild(o),r.future}}),lc.app.onDefined(["lc.resources","lc.Cache"],function(){lc.resources._html_cache=new lc.Cache(9e5),lc.resources.html=function(e){var t=e instanceof lc.URL?e:new lc.URL(e),s=t.toString(),n=lc.resources._html_cache.get(s);return n||(n={url:t,html:null,future:new lc.async.Future},lc.resources._html_cache.set(s,n),lc.http.get(s).onsuccess(function(e){n.html=e,n.future.success(e)}).onerror(function(e){n.html="<div>"+e+"</div>",n.future.success(html)})),n.future},lc.resources.htm=lc.resources.html}),lc.app.onDefined(["lc.resources","lc.Cache"],function(){lc.resources._js_cache=new lc.Cache,lc.resources.js=function(e){var t=e instanceof lc.URL?e:new lc.URL(e),s=t.toString(),n=lc.resources._js_cache.get(s);if(n)return n.future;var r=document.createElement("SCRIPT");return n={url:t,element:r,future:new lc.async.Future},lc.resources._js_cache.set(s,n),lc.app.pending(n.future),r.type="text/javascript",r.onload=function(){lc.log.debug("lc.resources","Javascript loaded: "+s),n.future.success(r),lc.app.newDefinitionsAvailable()},r.onerror=function(){lc.log.error("lc.resources","Error loading javascript "+s),n.future.error("Javascript loading error")},r.src=s,document.getElementsByTagName("HEAD")[0].appendChild(r),n.future},lc.resources.javascript=lc.resources.js}),lc.core.namespace("lc.resources",{load:function(e,t){var s=e instanceof lc.URL?e:new lc.URL(e);if(!t){var n=s.path.lastIndexOf(".");if(n<0){lc.log.error("lc.resources","Unable to load a resource without an extension: "+s.toString());var r=new lc.async.Future;return r.error("Unable to load a resource without an extension: "+s.toString()),r}t=s.path.substring(n+1)}return void 0===lc.resources[t]&&(t="unknownType"),lc.resources[t](s)},loadInSequence:function(t,s){var n=new lc.async.Future,r=function(e){e!=t.length?lc.resources.load(t[e],s).onsuccess(new lc.async.Callback(this,r,[e+1])).onerror(n):n.success(null)};return r(0),n},loadInParallel:function(e,t){for(var s=new lc.async.JoinPoint,n=0;n<e.length;++n)s.addToJoin(lc.resources.load(e[n],t));return s.start(),s},_default_cache:null,unknownType:function(e){lc.resources._default_cache||(lc.resources._default_cache=new lc.Cache(6e5));var t=e instanceof lc.URL?e.toString():e,s=lc.resources._default_cache.get(t);if(s)return s.future;var n=lc.http.get(e);return s={future:n},lc.resources._default_cache.set(t,s),n}}),lc.core.createClass("lc.URL",function(e){if(e instanceof lc.URL||void 0!==e.protocol)return this.protocol=e.protocol,this.host=e.host,this.port=e.port,this.path=e.path,this.hash=e.hash,void(this.params=lc.copy(e.params));"function"==typeof e.toString&&(e=e.toString());var t=e.indexOf("://");if(0<t)this.protocol=e.substr(0,t).toLowerCase(),t=(e=e.substr(t+3)).indexOf("/"),this.host=e.substr(0,t),e=e.substr(t),0<(t=this.host.indexOf(":"))?(this.port=this.host.substr(t+1),this.host=this.host.substr(0,t)):this.port=null;else if(window?(this.protocol=window.location.protocol.substr(0,window.location.protocol.length-1),this.host=window.location.hostname,this.port=window.location.port):(this.protocol="",this.host="",this.port=""),!e.startsWith("/")){var s;if(document.baseURI)s=new lc.URL(document.baseURI);else{var n=document.getElementsByTagName("base");s=0<n.length?new lc.URL(n[0].href):new lc.URL(location.toString())}(t=(s=s.path).lastIndexOf("/"))<s.length-1&&(s=s.substring(0,t+1)),e=s+e}if(0<(t=e.indexOf("#"))&&(this.hash=e.substr(t+1),e=e.substr(0,t)),t=e.indexOf("?"),this.params=new Object,0<t){for(this.path=e.substr(0,t),e=e.substr(t+1);0<e.length&&0<=(t=e.indexOf("&"));){var r=e.substr(0,t);e=e.substr(t+1),0<(t=r.indexOf("="))?this.params[lc.URL.decode(r.substr(0,t))]=lc.URL.decode(r.substr(t+1)):this.params[lc.URL.decode(r)]=""}0<e.length&&(0<(t=e.indexOf("="))?this.params[lc.URL.decode(e.substr(0,t))]=lc.URL.decode(e.substr(t+1)):this.params[lc.URL.decode(e)]="")}else this.path=e;for("/"!=this.path.substr(0,1)&&window.location.pathname&&(t=(e=window.location.pathname).lastIndexOf("/"),e=e.substr(0,t+1),this.path=e+this.path);0<(t=this.path.indexOf("/../"));){var o=this.path.substr(0,t).lastIndexOf("/");if(o<0)break;this.path=this.path.substr(0,o+1)+this.path.substr(t+4)}this.host=this.host.toLowerCase(),this.path=this.path.toLowerCase()},{protocol:null,host:null,port:null,path:null,hash:null,params:null,toString:function(){var e;this.protocol?(e=this.protocol+"://"+this.host,this.port&&(e+=":"+this.port)):e="",e+=this.path;var t=!0;for(var s in this.params)t?(e+="?",t=!1):e+="&",e+=encodeURIComponent(s)+"="+encodeURIComponent(this.params[s]);return this.hash&&(e+="#"+this.hash),e},equals:function(e){if(!this.equalsWithoutParameters(e))return!1;for(var t in this.params)if(e.params[t]!=this.params[t])return!1;for(var t in e.params)if(e.params[t]!=this.params[t])return!1;return!0},equalsWithoutParameters:function(e){return this.protocol==e.protocol&&(this.host==e.host&&(this.port==e.port&&this.path==e.path))}}),lc.URL.decode=function(e){return decodeURIComponent(e).replace(/\+/g," ")},lc.core.namespace("lc.xml",{getChildElementsByName:function(e,t){t=t.toUpperCase();for(var s=[],n=0;n<e.childNodes.length;++n)1==e.childNodes[n].nodeType&&e.childNodes[n].nodeName==t&&s.push(e.childNodes[n]);return s},getChildByName:function(e,t){t=t.toUpperCase();for(var s=0;s<e.childNodes.length;++s)if(1==e.childNodes[s].nodeType&&e.childNodes[s].nodeName==t)return e.childNodes[s];return null},isAncestorOf:function(e,t){if(e===t)return!1;for(;t.parentNode&&t.parentNode!=t;){if(e===t.parentNode)return!0;t=t.parentNode}return!1}}),lc.app.onLoaded(function(){lc.log.trace("lc.html.processor","Processing body at application startup"),lc.html.processor.process(document.body,function(){lc.layout.triggerChange(document.body)})}),lc.core._loaded=!0,lc.app.newDefinitionsAvailable();
//# sourceMappingURL=lc-core.min.js.map